
block variables
  - const locale = 'en'
  - const version = '0.0.5'
  - const appTitle = 'D3 Components'
  - const appKeywords = 'Data visualization, D3.js, SVG'
  - const appDescription = 'D3-based visualization components'
  - const appDocs = '.' + (pageID || '').replace(/[^\/]/g, '').replace(/\//g, '/..')
  - const appDist = appDocs + '/dist'
  - const appIcons = appDocs + '/dist/icons'

doctype html

html(id=pageID lang=locale)
  head
    block head
      meta(charset='utf-8')
      title= (pageTitle ? pageTitle + ' | ' : '') + appTitle
      meta(http-equiv='X-UA-Compatible' content='IE=edge')
      meta(name='keywords' content= pageKeywords || appKeywords)
      meta(name='description' content=pageDescription || appDescription)
      meta(name='viewport' content='width=device-width, initial-scale=1')
      link(rel='stylesheet' href=appDist + '/ui-schema-0.4.5.min.css' media='all')
      if prism
        link(rel='stylesheet' href=appDist + '/prism-1.4.1.min.css' media='all')
  if minimal
    block body
  else
    body
      header.ui-header-navbar.ui-container-fluid.ui-container-grid
        block header
          .ui-navbar-brand
            h2: a(href=appDocs + '/index.html' accesskey='h')= appTitle
          a.ui-navbar-text.ui-float-right(accesskey='t' data-schema-toggle='body' data-schema-toggler='ui-theme-dark' data-schema-storage='dark' data-schema-init)
            i.ui-zoom-large(data-schema-icon='adjust')
          nav.ui-navbar-nav
            ul
              li
                a(href=appDocs + '/api.html' accesskey='a')
                  i.ui-phone-visible(data-schema-icon='cubes' title='API')
                  span.ui-phone-hidden API
              li
                a(href=appDocs + '/gallery.html' accesskey='e')
                  i.ui-phone-visible(data-schema-icon='image' title='Gallery')
                  span.ui-phone-hidden Gallery
              li
                a(href='https://github.com/photino/d3-components' rel='external' target='_blank' accesskey='g')
                  i.ui-phone-visible(data-schema-icon='github' title='GitHub')
                  span.ui-phone-hidden GitHub
      main.ui-container-fluid.ui-container-grid
        if standalone
          block main
        else
          aside.ui-grid-25.ui-mobile-expand.ui-sticky-top
            block aside
          article.ui-grid-75.ui-mobile-expand
            block article
      footer.ui-container-fluid
        block footer
          address.ui-text-muted.ui-mobile-expand
            span &copy; 2016&ndash;2017 Zan Pan &nbsp;
            span.
              Code licensed under #[a(href='https://github.com/photino/d3-components/blob/master/LICENSE' rel='external' target='_blank') MIT], documentation under #[a(href='http://creativecommons.org/licenses/by-sa/4.0' rel='external' target='_blank') CC BY-SA 4.0].
      block foot
        script(src=appDist + '/jquery-3.2.1.min.js')
        if prism
          script(src=appDist + '/prism-1.4.1.min.js')
        script(src=appDist + '/ui-schema-0.4.5.min.js')
        script(src=appIcons + '/brands.js')
        script(src=appIcons + '/devices.js')
        script(src=appIcons + '/editor.js')
        script(src=appDist + '/d3-4.10.0.min.js')
        script(src=appDist + '/d3-components-' + version + '.js')
